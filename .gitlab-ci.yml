image: python:3.6-alpine
stages:
  - deploy
before_script:
  - pip install --upgrade pip
  - pip install setuptools wheel twine

deploy_production:
  stage: deploy
  script:
    - python3 setup.py sdist bdist_wheel
    - twine upload dist/*
  only:
    - tags